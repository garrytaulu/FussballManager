<!DOCTYPE html>
<html ng-app="fm">
<head>
    <title>Fussball Manager</title>

    <style>
        form label { display: inline-block; width: 80px; }
        .container { display: inline-block; vertical-align: top; padding: 10px; }
        .resourceId { display:inline-block; visibility:hidden;}
    </style>
</head>
<body ng-controller="MainCtrl">

<h1>Index of Fussball Manager application</h1>

<!--class="container"-->
<div ng-controller="AppNavigationCtrl" style="display:none;" >
    <span>Home</span>
    <span>Games</span>
    <span>Set up</span>
</div>

<div ng-controller="PlayerDetailCtrl" class="container">
    <h2>Players</h2>
    <div>
        <button type="button" ng-click="create()">Create</button>
    </div>

    <form name="playerForm" ng-submit="save()" ng-hide="playerEdit == null">
        <fieldset>
            <div>
                <label for="playerName">Name: </label><input id="playerName" type="text" ng-model="playerEdit.name" required/>
            </div>
            <div>
                <label for="nickname">Nickname: </label><input id="nickname" type="text" ng-model="playerEdit.nickname" required/>
            </div>
            <div>
                <label for="avatar">Avatar: </label><input id="avatar" type="text" ng-model="playerEdit.avatar" required ng-pattern="/.png$/"/>
            </div>
            <button type="submit">Save</button>
            <button type="button" ng-click="cancel()">Cancel</button>
        </fieldset>
    </form>

    <ol>
        <li ng-repeat="player in players">
            <div>
                {{ player | playerDisplay }}
                <span><a title="Edit" href="" ng-click="edit($index)">Edit</a></span>
            </div>
        </li>
    </ol>
</div>

<div ng-controller="GameDetailCtrl" class="container">
    <h2>Games</h2>
    <div>
        <button type="button" ng-click="create()">Create</button>
    </div>

    <form name="gameForm" ng-submit="save()" ng-hide="gameEdit == null" ng-cloak>
        <fieldset>
            <span>Blue</span>
            <div>
                <label for="blueAttacker">Attacker: </label>
                <select id="blueAttacker" ng-model="gameEdit.blueAttacker" ng-options="player.id as player.nickname for player in availablePlayers" required></select>
            </div>
            <div>
                <label for="blueDefender">Defender: </label>
                <select id="blueDefender" ng-model="gameEdit.blueDefender" ng-options="player.id as player.nickname for player in availablePlayers" required></select>
            </div>

            <span>Red</span>
            <div>
                <label for="redDefender">Attacker: </label>
                <select id="redAttacker" ng-model="gameEdit.redAttacker" ng-options="player.id as player.nickname for player in availablePlayers" required></select>
            </div>
            <div>
                <label for="redDefender">Defender: </label>
                <select id="redDefender" ng-model="gameEdit.redDefender" ng-options="player.id as player.nickname for player in availablePlayers" required></select>
            </div>
            <button type="submit">Save</button>
            <button type="button" ng-click="cancel()">Cancel</button>
        </fieldset>
    </form>

    <ol>
        <table cellspacing="0" cellpadding="3" border="0">
            <thead>
                <tr>
                    <td>#</td>
                    <td>Blue Team</td>
                    <td>Red Team</td>
                    <td>Score</td>
                    <td>Actions</td>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="game in games">
                    <td>
                        <span>{{ $index + 1 }}.</span>
                        <span class="resourceId">{{ game.id }}</span>
                    </td>
                    <!--<td>A: {{ game.blueAttacker.name }} / D: {{ game.blueDefender.name }}</td>
                    <td>A: {{ game.redAttacker.name }} /  D: {{ game.redDefender.name }}</td>-->
                    <td>{{ game | gameBlueTeamDisplay }}</td>
                    <td>{{ game | gameRedTeamDisplay }}</td>
                    <td>//TODO</td>
                    <td>
                        <span><a title="Edit" href="" ng-click="edit($index)">Edit</a></span>
                    </td>
                </tr>
            </tbody>

            <!--<li ng-repeat="game in games">
                <div>
                    <span class="resourceId">{{ game.id }}</span>
                    {{ game | gameDisplay }}
                </div>
            </li>-->
        </table>
    </ol>
</div>

<script type="text/javascript" src="js/main.js"></script>
<script type="text/javascript" src="lib/angular.js"></script>
<script type="text/javascript" src="lib/angular-resource.js"></script>
<script type="text/javascript" src="js/app.js"></script>
<script type="text/javascript" src="js/controllers.js"></script>
<script type="text/javascript" src="js/directives.js"></script>
<script type="text/javascript" src="js/filters.js"></script>
<script type="text/javascript" src="js/services.js"></script>
</body>
</html>
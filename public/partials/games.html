<div class="container">
    <h2>Games</h2>
    <div>
        <a class="btn btn-primary" ng-click="create()">
            <i class="icon-plus icon-white"></i> Create
        </a>
    </div>
    <form name="gameForm" ng-submit="save()" ng-hide="gameEdit == null" ng-cloak>
        <fieldset>
            <span>Blue</span>
            <div>
                <label for="blueAttacker">Attacker: </label>
                <select id="blueAttacker" ng-model="gameEdit.blueAttacker" ng-options="p as p.nickname for p in availablePlayers" required></select>
            </div>
            <div>
                <label for="blueDefender">Defender: </label>
                <select id="blueDefender" ng-model="gameEdit.blueDefender" ng-options="p as p.nickname for p in availablePlayers" required></select>
            </div>

            <span>Red</span>
            <div>
                <label for="redAttacker">Attacker: </label>
                <select id="redAttacker" ng-model="gameEdit.redAttacker" ng-options="p as p.nickname for p in availablePlayers" required></select>
            </div>
            <div>
                <label for="redDefender">Defender: </label>
                <select id="redDefender" ng-model="gameEdit.redDefender" ng-options="p as p.nickname for p in availablePlayers" required></select>
            </div>
            <button type="submit">Save</button>
            <button type="button" ng-click="cancel()">Cancel</button>
        </fieldset>
    </form>

    <br/>

    <table class="table table-striped table-bordered table-condensed" cellspacing="0" cellpadding="3" border="0">
        <thead>
            <tr>
                <td>#</td>
                <td>Blue Team</td>
                <td>Red Team</td>
                <td>Played on</td>
                <td>Status</td>
                <td>Score</td>
                <td>Actions</td>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="game in games">
                <td>
                    <span>{{ $index + 1 }}.</span>
                    <span class="resourceId">{{ game.id }}</span>
                </td>
                <td>{{ game | gameBlueTeamDisplay }}</td>
                <td>{{ game | gameRedTeamDisplay }}</td>
                <td>{{ game.created_at }}</td>
                <td>{{ game.status }}</td>
                <td>//TODO</td>
                <td>
                    <span><a title="Edit" href="" ng-click="edit($index)">Edit</a></span>
                    <span>|</span>
                    <span><a title="Scores" href="#/games/{{ game.id }}">Scores</a></span>
                </td>
            </tr>
        </tbody>
    </table>
</div>
